import{S as t,i as a,G as n,s,v as r,w as e,x as o,n as i,r as c,y as u,z as p,A as l,B as $,C as g,e as d,D as f,a as m,b as y,g as x,E as h,d as U,f as j,k as C,j as b,F as w}from"./client.6993bbfa.js";import{P as I}from"./Page.5e1ac8ce.js";import{R as v}from"./RadioList.2baef62d.js";function E(t){let a,n,s,p,l=t[5]("countryIndex.title",{country:t[5](`countries.${t[6]}`)})+"";const $=new v({props:{url:t[0],apiUrl:t[1],stations:t[2],paging:t[3]}});return{c(){a=d("h1"),n=f(l),s=m(),r($.$$.fragment)},l(t){a=y(t,"H1",{});var r=x(a);n=h(r,l),r.forEach(U),s=j(t),e($.$$.fragment,t)},m(t,r){C(t,a,r),b(a,n),C(t,s,r),o($,t,r),p=!0},p(t,a){(!p||96&a)&&l!==(l=t[5]("countryIndex.title",{country:t[5](`countries.${t[6]}`)})+"")&&w(n,l);const s={};1&a&&(s.url=t[0]),2&a&&(s.apiUrl=t[1]),4&a&&(s.stations=t[2]),8&a&&(s.paging=t[3]),$.$set(s)},i(t){p||(i($.$$.fragment,t),p=!0)},o(t){c($.$$.fragment,t),p=!1},d(t){t&&U(a),t&&U(s),u($,t)}}}function P(t){let a;const n=new I({props:{meta:t[4],$$slots:{default:[E]},$$scope:{ctx:t}}});return{c(){r(n.$$.fragment)},l(t){e(n.$$.fragment,t)},m(t,s){o(n,t,s),a=!0},p(t,[a]){const s={};16&a&&(s.meta=t[4]),4207&a&&(s.$$scope={dirty:a,ctx:t}),n.$set(s)},i(t){a||(i(n.$$.fragment,t),a=!0)},o(t){c(n.$$.fragment,t),a=!1},d(t){u(n,t)}}}async function R(t,a){const[s,r]=t.params.langCountry.split("-"),e=n({lang:s,countryCode:r}),o=`/api/stations/${r}`,i=await this.fetch(o+"?page="+(t.query.page||1)).then(t=>t.json());return{url:e,apiUrl:o,stations:i.items,paging:i.paging}}function k(t,a,s){let r,e,o;const{page:i}=p(),{trans:c,lang:u,countryCode:d}=l();$(t,c,t=>s(5,r=t)),$(t,u,t=>s(10,o=t)),$(t,d,t=>s(6,e=t));let f,{url:m}=a,{apiUrl:y}=a,{stations:x}=a,{paging:h}=a;return t.$set=(t=>{"url"in t&&s(0,m=t.url),"apiUrl"in t&&s(1,y=t.apiUrl),"stations"in t&&s(2,x=t.stations),"paging"in t&&s(3,h=t.paging)}),t.$$.update=(()=>{1120&t.$$.dirty&&s(4,f={title:r("countryIndex.head.title",{country:r(`countries.${e}`)}),desc:r("countryIndex.head.desc",{country:r(`countries.${e}`)}),canonical:g(n({lang:o,countryCode:e}))})}),[m,y,x,h,f,r,e,c,u,d]}export default class extends t{constructor(t){super(),a(this,t,k,P,s,{url:0,apiUrl:1,stations:2,paging:3})}}export{R as preload};
