import{S as t,i as a,G as n,s,v as e,w as r,x as o,n as i,r as c,y as u,z as p,A as l,B as $,C as g,e as d,D as f,a as m,b as y,g as x,E as h,d as U,f as j,k as C,j as w,F as I}from"./client.aee31b76.js";import{P as b}from"./Page.8a9ef4ad.js";import{R as v}from"./RadioList.23be8fe2.js";function E(t){let a,n,s,p,l=t[5]("countryIndex.title",{country:t[5](`countries.${t[6]}`)})+"";const $=new v({props:{url:t[0],apiUrl:t[1],stations:t[2],paging:t[3]}});return{c(){a=d("h1"),n=f(l),s=m(),e($.$$.fragment)},l(t){a=y(t,"H1",{});var e=x(a);n=h(e,l),e.forEach(U),s=j(t),r($.$$.fragment,t)},m(t,e){C(t,a,e),w(a,n),C(t,s,e),o($,t,e),p=!0},p(t,a){(!p||96&a)&&l!==(l=t[5]("countryIndex.title",{country:t[5](`countries.${t[6]}`)})+"")&&I(n,l);const s={};1&a&&(s.url=t[0]),2&a&&(s.apiUrl=t[1]),4&a&&(s.stations=t[2]),8&a&&(s.paging=t[3]),$.$set(s)},i(t){p||(i($.$$.fragment,t),p=!0)},o(t){c($.$$.fragment,t),p=!1},d(t){t&&U(a),t&&U(s),u($,t)}}}function P(t){let a;const n=new b({props:{meta:t[4],$$slots:{default:[E]},$$scope:{ctx:t}}});return{c(){e(n.$$.fragment)},l(t){r(n.$$.fragment,t)},m(t,s){o(n,t,s),a=!0},p(t,[a]){const s={};16&a&&(s.meta=t[4]),4207&a&&(s.$$scope={dirty:a,ctx:t}),n.$set(s)},i(t){a||(i(n.$$.fragment,t),a=!0)},o(t){c(n.$$.fragment,t),a=!1},d(t){u(n,t)}}}async function R(t,a){const[s,e]=t.params.langCountry.split("-"),r=n({lang:s,countryCode:e}),o=`/api/stations/${e}`,i=await this.fetch(o+"?page="+(t.query.page||1)).then(t=>t.json());return{url:r,apiUrl:o,stations:i.items,paging:i.paging}}function k(t,a,s){let e,r,o;const{page:i}=p(),{trans:c,lang:u,countryCode:d}=l();$(t,c,t=>s(5,e=t)),$(t,u,t=>s(10,o=t)),$(t,d,t=>s(6,r=t));let f,{url:m}=a,{apiUrl:y}=a,{stations:x}=a,{paging:h}=a;return t.$set=(t=>{"url"in t&&s(0,m=t.url),"apiUrl"in t&&s(1,y=t.apiUrl),"stations"in t&&s(2,x=t.stations),"paging"in t&&s(3,h=t.paging)}),t.$$.update=(()=>{1120&t.$$.dirty&&s(4,f={title:e("countryIndex.head.title",{country:e(`countries.${r}`)}),desc:e("countryIndex.head.desc",{country:e(`countries.${r}`)}),canonical:g(n({lang:o,countryCode:r}))})}),[m,y,x,h,f,e,r,c,u,d]}export default class extends t{constructor(t){super(),a(this,t,k,P,s,{url:0,apiUrl:1,stations:2,paging:3})}}export{R as preload};
